# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –†–µ–≥.—Ä—É

## –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL

1. –í–æ–π–¥–∏—Ç–µ –≤ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –†–µ–≥.—Ä—É
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** ‚Üí **PostgreSQL**
3. –ù–∞–∂–º–∏—Ç–µ **–°–æ–∑–¥–∞—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**
4. –ó–∞–¥–∞–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
   - –ò–º—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä: `olitravel_db`)
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–Ω–∞–ø—Ä–∏–º–µ—Ä: `olitravel_user`)
   - –ü–∞—Ä–æ–ª—å (—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å)
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

## –®–∞–≥ 2: –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ë–î –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:
- **–•–æ—Å—Ç**: `pg-XXXXX.hosting.reg.ru` (–∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞)
- **–ü–æ—Ä—Ç**: `5432` (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç PostgreSQL)
- **–ò–º—è –ë–î**: —Ç–æ, —á—Ç–æ –≤—ã —É–∫–∞–∑–∞–ª–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
- **–õ–æ–≥–∏–Ω**: –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ü–∞—Ä–æ–ª—å**: –≤–∞—à –ø–∞—Ä–æ–ª—å

## –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ poehali.dev

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Ä–µ–¥–∞–∫—Ç–æ—Ä poehali.dev
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **–°–µ–∫—Ä–µ—Ç—ã** (–∫–Ω–æ–ø–∫–∞ –≤–≤–µ—Ä—Ö—É)
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–∫—Ä–µ—Ç—ã:

| –°–µ–∫—Ä–µ—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|--------|----------|--------|
| `REG_DB_HOST` | –•–æ—Å—Ç —Å–µ—Ä–≤–µ—Ä–∞ –ë–î | `pg-12345.hosting.reg.ru` |
| `REG_DB_PORT` | –ü–æ—Ä—Ç (–æ–±—ã—á–Ω–æ 5432) | `5432` |
| `REG_DB_NAME` | –ò–º—è –≤–∞—à–µ–π –±–∞–∑—ã | `olitravel_db` |
| `REG_DB_USER` | –õ–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | `olitravel_user` |
| `REG_DB_PASS` | –ü–∞—Ä–æ–ª—å | `your_strong_password` |

## –®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –ë–î —á–µ—Ä–µ–∑ phpPgAdmin –∏–ª–∏ –ª—é–±–æ–π –∫–ª–∏–µ–Ω—Ç PostgreSQL –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```sql
-- –¢–∞–±–ª–∏—Ü–∞ –∑–∞—è–≤–æ–∫ –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤
CREATE TABLE IF NOT EXISTS submissions (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    email VARCHAR(255) NOT NULL,
    phone VARCHAR(50),
    message TEXT,
    tour_id INTEGER,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- –¢–∞–±–ª–∏—Ü–∞ —Ç—É—Ä–æ–≤
CREATE TABLE IF NOT EXISTS tours (
    id SERIAL PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    country VARCHAR(100) NOT NULL,
    city VARCHAR(100),
    hotel VARCHAR(255),
    stars INTEGER,
    duration VARCHAR(50),
    dates VARCHAR(100),
    price INTEGER NOT NULL,
    image_url TEXT,
    description TEXT,
    category VARCHAR(50),
    from_spb VARCHAR(20),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- –¢–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
CREATE TABLE IF NOT EXISTS users (
    id SERIAL PRIMARY KEY,
    email VARCHAR(255) UNIQUE NOT NULL,
    phone VARCHAR(50),
    full_name VARCHAR(255),
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- –¢–∞–±–ª–∏—Ü–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π
CREATE TABLE IF NOT EXISTS bookings (
    id SERIAL PRIMARY KEY,
    user_id INTEGER REFERENCES users(id),
    tour_id INTEGER REFERENCES tours(id),
    status VARCHAR(50) DEFAULT 'pending',
    total_price INTEGER,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

## –®–∞–≥ 5: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ frontend

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ–∫—Ä–µ—Ç–æ–≤, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `/database` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î:

```javascript
// –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞—è–≤–æ–∫
const response = await fetch('https://functions.poehali.dev/YOUR_FUNCTION_ID?table=submissions&limit=100');
const data = await response.json();

// –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞—è–≤–∫—É
const response = await fetch('https://functions.poehali.dev/YOUR_FUNCTION_ID', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    table: 'submissions',
    data: {
      name: '–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤',
      email: 'ivan@example.com',
      phone: '+79991234567',
      message: '–ò–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç —Ç—É—Ä –≤ –¢—É—Ä—Ü–∏—é'
    }
  })
});
```

## –ì–æ—Ç–æ–≤–æ! üöÄ

–¢–µ–ø–µ—Ä—å –≤–∞—à —Å–∞–π—Ç –º–æ–∂–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å –∑–∞—è–≤–∫–∏, —Ç—É—Ä—ã –∏ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ –≤–∞—à–µ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –†–µ–≥.—Ä—É.
